<!doctype html>
<html>
	<head>
		<title>Trilinos Tutorial READ_ME</title>
	</head>
	<body bgcolor="F0F0FF">
		<div style="FLOAT: left;"id="contents"><table border=1 cellpadding=6 bgcolor=white><td>Contents:
		<ol><li><a href="#main">Overview</a></li>
		<li><a href="#layout">Tarball layout</a></li>
		<li><a href="#builds">Using Trilinos</a>
		<ul><li><a href="#make">Makefiles</a></li>
			<li><a href="#cmake">CMake</a></li>
			<li><a href="#shell">runit.sh Script</a></li>
			<li><a href="#gui">Optika Gui</a></li></ul></li>
		<li><a href="#custom">Adding Code</a></li>
		<li><a href="#samples">Sample Code</a></li>
		<li><a href="#version">Version Info</a></li>
		<li><a href="#download">Download Links</a></li>
		</ol></td></table></div>
		<div style="FLOAT: right;"><img src="trilinoslogo.jpg" alt="Trilinos logo" width=200pix></div>
		<div id="text"><center><table cellpadding= 6 bgcolor=white><td>
			
		<div id="main"><h3>Trilinos Examples</h3>
		<p><b>Welcome to the Trilinos tutorial tarball!</b></p>
		<p>Contained within are various examples illustrating how to use various trilinos packages as well as how to build and compile code that uses trilinos. A simple setup script is provided to load the correct modules for working in this environment. So, before doing anything else execute the command <code>source setup.sh</code> . Along with acting as a tutorial this is also a simple framework to work with trilinos code. For more details on the different methods to build and run the trilinos code see the <a href="#builds">Using Trilinos</a> section. For information on how to easily add your own code into this environment see the <a href="#custom">Adding Code</a> section. 
		For more information on how to use and work with the examples see the <A HREF="http://code.google.com/p/trilinos/wiki/TrilinosHandsOnTutorial">Trilinos Hands-On Tutorial</A> which contains various details about the beginner examples.</p>
		<p>There has been a little work with another project called Tramonto. For information on how to install and use it in a similar environment see the contained <a href="tramonto.html">tramonto.html</a> document.</p>
		</div>
		
		<div id="layout"><h4>General Layout</h4>
		<p>Within this directory there are several sub-folders. The directories <code>beginner, advanced</code>, and <code>custom</code> each contain sets of examples. Each example is contained in a unique directory containing its source code and a Makefile to compile it as well as a file for the CMake framework. </p>
		<hr>
		<p>The general format is:&nbsp;&nbsp;&nbsp;&nbsp;Trilinos_tutorial/<em>set_of_examples/specific_example</em></p>
		<p>For example:&nbsp;&nbsp;&nbsp;&nbsp;Trilinos_tutorial/beginner/Epetra_Simple_Vector</p>
		<p>This folder contains the files <em>"Epetra_Simple_Vector.cpp"</em> and <em>"Makefile"</em>as well as <em>"CMakeLists.txt"</em> for the CMake build.</p>
		<hr>
		</div>

				
		<div id="builds"><h4>Building and Running Examples</h4>	
		<p>Contained within this tarball there are several different methods to make and run code using Trilinos. These range from using traditional <a href="#make">Makefiles</a> to a <a href="#cmake">CMake</a> build system complete with several tests. There is also a <a href="#shell">shell script</a> as well as a <a href="#gui">GUI</a> that function using the Makefile system and allow the examples to be easily run. As stated above it is important to have the correct modules loaded to run most of these examples so before proceeding remember to execute the command <code>source setup.sh</code> in this main directory before attempting to run an example.
		</p>
		</div>
		
		<div id="make"><h5>Using Makefiles</h5>
		<p>This tutorial provides a Makefile framework that compiles all of the examples by simply typing <code>make</code> in the home directory. This shows a simple way to compile multiple examples at once as well as how to use a hierarchical structure with makefiles.  Examples can also be individually compiled using the same command in the Example's unique directory. The Makefiles generate the executable for the example which can then be moved and run independently (assuming the correct modules are loaded). For a commented example of a makefile, see the Epetra_Simple_Vector <a href="./beginner/Epetra_Simple_Vector/Makefile"><code>Makefile</code></a>.</p>
		</div>
		
		<div id="cmake"><h5>Using CMake</h5>
		<p>This tutorial also provides a CMake framework to build examples as well as tests. While the CMakeLists.txt files are contained with the source code, in order to see the CMake build system in action execute the configuration script contained in the <code>cmake_build</code> directory. Before this however ensure that the path <code>-DCMAKE_PREFIX_PATH</code> points to the trilinos installation. It is reccommeded that you use a build directory as running cmake can overwrite other important files like the Makefiles restricting you to CMake. Running the script will generate all of the necessary files within the build directory. Then type <code>make</code> in order to compile all of the examples and tests. After the examples are built several tests can be run using <code>ctest</code> to ensure that the tutorial is working correctly. Like the Makefile build system CMake is also a hierarchical build system. To see how it is set up feel free to look at the <code>CMakeLists.txt</code> files in the source code directory system. For a commented example of a CMakeLists.txt file, see the Teuchos_Parameter List test's <a href="./ctests/Teuchos_ParameterList/CMakeLists.txt">file</a>. This example also shows how to set up tests using ctest as well as link other code to the examples.</p>
		</div>
		
		<div id="shell"><h5>Using the runit.sh script</h5>
		<p>This script goes along with the Makefile system in building and executing the examples. The <code>runit.sh</code> script  takes a target example directory as well as a number of processors to use. To see more specific script usage, run the script without parameters of with the -h tag. Using this shell script both compiles and runs the code outputting the results to the terminal as well as saving them into a file in the specific example directory as <code>[EXE_DIR].log</code>. The script is capable of running individual examples and also the entire beginner suite.</p>
		</div>
				
		<div id="gui"><h5>Using the Optika GUI</h5>
		<p>Contained within Trilinos is a package called Optika that can be used to create a simple Graphical User Interface (GUI). An example gui is provided in this tutorial that can run the rest of the examples. The current GUI uses the make build however the gui can also be made to run against the cmake guild by running the command <code>./tutorial_gui cmake</code>. The tutorial_gui executable provides a simple interface to choose an example and provide parameters. Then whenever the "submit" button is pressed the gui will run the example with the given parameters and output the results to the terminal. The .log files will also be available in the logs folder in the home directory of this tutorial. Simply close the GUI when done and it will promt to save the current inputs into an xml file which can be later loaded back into the gui. But, be careful loading xml scripts because an incompatible xml file will cause the program to fail. </p>
		</div>
		<hr>
		<div id="custom"><h4>Inserting User Code</h4>
		<p>Adding user code into this tutorial framework is rather straight forward. The simplest way to add user code is to replace the file My_Code.cpp with the your custom code. The aformentioned file is contained in the directory of the same name within the set of custom examples. Otherwise, whether it is using the Makefile system of the CMake system just model the addition off of the existing Makefile or CMakeLists.txt files.</p>
		<p>For using make, copy the source code into it's own directory (for this example assume the code is called <code>myCode1.cpp</code>). To keep with the pattern (though it's not strictly necessary) we would place this code within a directory with the filepath /Trilinos_tutorial/custom/myCode1/ . Next to compile the source code easily we make a Makefile. It is easiest to copy the existing Makefile from any of the beginner examples then replace all occurances of the example name with the name of the custom source code. In this case that would be "myCode1". The Makefile should then work with the custom code and be able to build your project. </p>
		<p>Using CMake is a very similar procedure as using make. The only difference is the name of the helper file. However for CMake you must also inform the larger system to build your file by editing the <code>CMakeLists.txt</code> in the parent directories to include the new example. This can be done by adding the line <code>add_subdirectory(myCode1)</code> to the parent <code>CMakeLists.txt</code> file.</p>
		<p>If you're feeling really adventurous you can try to integrate a GUI for your code. for examples that may help youtowards this endeavor see the <a href ="#samples">Examples</a> section that follows this.</p>
		<b>Note: Due to some problem with the current VM you may have to link your code to the helper library <code>aprepro_vhelp.h</code> found in the home directory of this tutorial.</b>
		</div>
		
		<div id="samples"><h4>Example Files</h4>
		<p>Here are several example files that are documented to show how the parts of various helper files work
		<ul><li>Example <a href="beginner/Epetra_Simple_Vector/Makefile">Makefile</a></li>
			<li>Example <a href="ctests/Teuchos_ParameterList/CMakeLists.txt">CMakeLists.txt</a></li>
			<li>Example <a href="gui/tutorial_gui/tutorial_gui.cpp.txt">GUI Source</a><br>
The source code for the optika gui provided in this tutorial.</li>
			<li>Example <a href="gui/tutorial_gui/gui.xml">GUI xml Document</a><br>
The xml document for formatting the optika gui.</li></ul>
		</p>
		</div>
		
		<div id="version"><hr>
		<p style="text-align:center"><strong>This current tarball works with trilinos version 10.10.0</strong></p>
		<hr>
		<p>This tarball was tested against the latest version of the ParaTools VM retrieved from the paratools site on 7/20/12</p></div>

		<div id="download"><h4>Downloads</h4>
		<p>Here are additional links to the download pages of VirtualBox and the latest virtual machine:
					<br><A HREF="https://www.virtualbox.org/wiki/Downloads">VirtualBox Download</A>
					<br><A HREF="http://www.paratools.com/HPCLinux/">HPCLinux VM</A></p></div>
					
		</td></table></div>
	</body>
</html>
